<AdapterDefinition xmlns:mix="http://bitstew.com/schemas/1.0/xml-template" xmlns:emix="http://bitstew.com/schemas/1.0/xml-template">
 <Config>
  <AdapterId>AppEngine_BAT_DA</AdapterId>
  <Name>AppEngine_BAT_DA</Name>
  <Description>Generates assets using MIx functions</Description>
  <Type>Asset</Type>
  <Separator>$numberOfRecords</Separator>
  <StartLine>1</StartLine>
  <RequestMethod>POST</RequestMethod>
  <BatchSize>100</BatchSize>
  <InitCode><mix:variable name="numberOfRecords" select="(1 to 100)" /><mix:function name="randomPast_dateTime" as="xs:dateTime">
   <mix:param name="numDays" as="xs:integer"/>
   <mix:variable name="randomNumbers" select="xfn:random-integer(1,$numDays)"/>
   <mix:variable name="current" select="current-dateTime()" as="xs:dateTime"/>
   <mix:variable name="hours" select="xfn:random-integer(0,23)" />
   <mix:variable name="mins" select="xfn:random-integer(0,59)" />
   <mix:variable name="secs" select="xfn:random-integer(0,59)" />
   <mix:variable name="dates" select="$current - xdt:dayTimeDuration('P{$randomNumbers}DT{$hours}H{$mins}M{$secs}S')" />
   <mix:copy-of select="$dates - xdt:dayTimeDuration('-P1D')" />
  </mix:function><mix:function xmlns:emix="http://bitstew.com/schemas/1.0/xml-template" name="rand_ip" as="xs:string">
   <emix:variable name="f1" select="xfn:random-integer(128,254)" />
   <emix:variable name="f2" select="xfn:random-integer(1,254)" />
   <emix:variable name="f3" select="xfn:random-integer(1,254)" />
   <emix:variable name="f4" select="xfn:random-integer(1,254)" />
   {$f1}.{$f2}.{$f3}.{$f4}
  </mix:function></InitCode>
  <EndCode/>
  <Status>ACTIVE</Status>
  <SourceType>jdbc</SourceType>
  <SourceLocation/>
  <AdapterMappings>
   <Mapping>
    <AdapterId>AppEngine_BAT_DA</AdapterId>
    <AdapterType>Asset</AdapterType>
    <URN>data.field.asset.lifecycle.installationDate</URN>
    <DataMapping>{randomPast_dateTime(45)}</DataMapping>
    <ElementType/>
    <Notes/>
   </Mapping>
   <Mapping>
    <AdapterId>AppEngine_BAT_DA</AdapterId>
    <AdapterType>Asset</AdapterType>
    <URN>data.field.asset.family</URN>
    <DataMapping>{xfn:one-of(("Hampton Bay","Hinkley","Schneider Electric","Cooper Bussmann","Leviton Decora","GE"))}</DataMapping>
    <ElementType/>
    <Notes/>
   </Mapping>
   <Mapping>
    <AdapterId>AppEngine_BAT_DA</AdapterId>
    <AdapterType>Asset</AdapterType>
    <URN>data.field.asset.recordDateTime</URN>
    <DataMapping>{current-dateTime()}</DataMapping>
    <ElementType/>
    <Notes/>
   </Mapping>
   <Mapping>
    <AdapterId>AppEngine_BAT_DA</AdapterId>
    <AdapterType>Asset</AdapterType>
    <URN>data.field.asset.id</URN>
    <DataMapping>AST_{$data}</DataMapping>
    <ElementType/>
    <Notes/>
   </Mapping>
   <Mapping>
    <AdapterId>AppEngine_BAT_DA</AdapterId>
    <AdapterType>Asset</AdapterType>
    <URN>data.field.asset.manufacturer</URN>
    <DataMapping>{xfn:one-of(("Elster","GE","Itron","Landis Gyr","ABB","Aclara","Badger Meter","Actaris","Diehl","Krohne","CGI","EDMI"))}</DataMapping>
    <ElementType/>
    <Notes/>
   </Mapping>
   <Mapping>
    <AdapterId>AppEngine_BAT_DA</AdapterId>
    <AdapterType>Asset</AdapterType>
    <URN>data.field.asset.communicationInterval</URN>
    <DataMapping>{xfn:one-of(("hourly","daily","weekly","fortnightly","monthly","yearly","on demand"))}</DataMapping>
    <ElementType/>
    <Notes/>
   </Mapping>
   <Mapping>
    <AdapterId>AppEngine_BAT_DA</AdapterId>
    <AdapterType>Asset</AdapterType>
    <URN>data.field.asset.fatalError.dateTime</URN>
    <DataMapping>{randomPast_dateTime(15)}</DataMapping>
    <ElementType/>
    <Notes/>
   </Mapping>
   <Mapping>
    <AdapterId>AppEngine_BAT_DA</AdapterId>
    <AdapterType>Asset</AdapterType>
    <URN>data.field.asset.type</URN>
    <DataMapping>{xfn:one-of(("Water","Gas","Electric"))}</DataMapping>
    <ElementType/>
    <Notes/>
   </Mapping>
   <Mapping>
    <AdapterId>AppEngine_BAT_DA</AdapterId>
    <AdapterType>Asset</AdapterType>
    <URN>data.field.asset.shipmentLocation.direction</URN>
    <DataMapping>{xfn:one-of(("North","North West","West","South West","South","South East","East","North East"))}</DataMapping>
    <ElementType/>
    <Notes/>
   </Mapping>
   <Mapping>
    <AdapterId>AppEngine_BAT_DA</AdapterId>
    <AdapterType>Asset</AdapterType>
    <URN>data.field.asset.authenticated</URN>
    <DataMapping>{xfn:one-of(("true","false"))}</DataMapping>
    <ElementType/>
    <Notes/>
   </Mapping>
   <Mapping>
    <AdapterId>AppEngine_BAT_DA</AdapterId>
    <AdapterType>Asset</AdapterType>
    <URN>data.field.asset.billingMultiplier</URN>
    <DataMapping>{xfn:random-integer(1,5)}</DataMapping>
    <ElementType/>
    <Notes/>
   </Mapping>  
  </AdapterMappings>
 </Config>
</AdapterDefinition>